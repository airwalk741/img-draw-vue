(function(e){function t(t){for(var n,c,o=t[0],i=t[1],r=t[2],s=0,d=[];s<o.length;s++)c=o[s],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);v&&v(t);while(d.length)d.shift()();return u.push.apply(u,r||[]),l()}function l(){for(var e,t=0;t<u.length;t++){for(var l=u[t],n=!0,o=1;o<l.length;o++){var i=l[o];0!==a[i]&&(n=!1)}n&&(u.splice(t--,1),e=c(c.s=l[0]))}return e}var n={},a={app:0},u=[];function c(t){if(n[t])return n[t].exports;var l=n[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,c),l.l=!0,l.exports}c.m=e,c.c=n,c.d=function(e,t,l){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(c.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(l,n,function(t){return e[t]}.bind(null,n));return l},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var r=0;r<o.length;r++)t(o[r]);var v=i;u.push([0,"chunk-vendors"]),l()})({0:function(e,t,l){e.exports=l("56d7")},"0058":function(e,t,l){"use strict";l("4dc3")},"076d":function(e,t,l){"use strict";l("ea98")},"4dc3":function(e,t,l){},"56d7":function(e,t,l){"use strict";l.r(t);var n=l("7a23");function a(e,t,l,a,u,c){const o=Object(n["R"])("router-view");return Object(n["I"])(),Object(n["k"])(o)}l("14d9");var u=l("5502"),c={setup(){const e=Object(u["b"])();function t(){for(var e="0123456789ABCDEF",t="#",l=0;l<6;l++)t+=e[Math.floor(16*Math.random())];return t}const l=()=>{const l=[];for(let e=0;e<500;e++)while(1){const e=t();if(!l.includes(e)){l.push(e);break}}e.commit("SET_COLORLIST",l)};return l(),{}}},o=(l("0058"),l("6b0d")),i=l.n(o);const r=i()(c,[["render",a]]);var v=r,s=l("6605");const d={class:"main"},b={class:"img"},h={class:"table"};function O(e,t,l,a,u,c){const o=Object(n["R"])("ImageLoad"),i=Object(n["R"])("LabelTable");return Object(n["I"])(),Object(n["m"])("div",d,[Object(n["n"])("div",b,[Object(n["p"])(o,{myList:a.rectList,onAddRect:a.addRect,onClearRect:a.clearRect,onRemoveRect:a.removeRect,onUpdateRect:a.updateRect,onSelectBox:a.selectBox,box:a.targetBox,onSetCanvasSize:a.setCanvasSize,canvasSize:a.canvasSize},null,8,["myList","onAddRect","onClearRect","onRemoveRect","onUpdateRect","onSelectBox","box","onSetCanvasSize","canvasSize"])]),Object(n["n"])("div",h,[Object(n["p"])(i,{myList:a.rectList,onRemoveRect:a.removeRect,onSelectBox:a.selectBox,onChangeColor:a.changeColor,canvasSize:a.canvasSize},null,8,["myList","onRemoveRect","onSelectBox","onChangeColor","canvasSize"])])])}const j=e=>(Object(n["L"])("data-v-3f7095ea"),e=e(),Object(n["J"])(),e),A={class:"btn-container"},f={class:"img-info"},p={key:0},g={key:1},m=j(()=>Object(n["n"])("i",{class:"far fa-hand-paper"},null,-1)),y=j(()=>Object(n["n"])("i",{class:"fas fa-pencil-alt"},null,-1)),_=j(()=>Object(n["n"])("h1",{className:"drag-text"},"Drag and Drop",-1)),S=[_],B=["src"],x={class:"pointer-container"};function R(e,t,l,a,u,c){var o,i;const r=Object(n["R"])("a-button");return Object(n["I"])(),Object(n["m"])("div",null,[Object(n["n"])("div",A,[Object(n["n"])("div",f,[Object(n["n"])("span",null,Object(n["U"])(null===(o=a.targetFile)||void 0===o?void 0:o.name),1),null!==a.targetFile?(Object(n["I"])(),Object(n["m"])("span",p,"   "+Object(n["U"])(`(${a.getByteSize(null===(i=a.targetFile)||void 0===i?void 0:i.size)})`),1)):Object(n["l"])("",!0),l.canvasSize.width?(Object(n["I"])(),Object(n["m"])("span",g,"   "+Object(n["U"])(`${l.canvasSize.width.toFixed(2)} X ${l.canvasSize.height.toFixed(2)}`),1)):Object(n["l"])("",!0)]),Object(n["n"])("div",null,[Object(n["p"])(r,{class:"btn",type:"primary",disabled:!a.targetFile,onClick:a.clearRect,style:{"margin-right":"10px"}},{default:Object(n["db"])(()=>[Object(n["o"])("Clear")]),_:1},8,["disabled","onClick"]),a.ishandleBtn?(Object(n["I"])(),Object(n["k"])(r,{key:1,type:"primary",disabled:!a.targetFile,onClick:t[1]||(t[1]=e=>a.setIsHandleBtn(!1))},{default:Object(n["db"])(()=>[y]),_:1},8,["disabled"])):(Object(n["I"])(),Object(n["k"])(r,{key:0,type:"primary",disabled:!a.targetFile,onClick:t[0]||(t[0]=e=>a.setIsHandleBtn(!0))},{default:Object(n["db"])(()=>[m]),_:1},8,["disabled"]))])]),a.isover&&!a.targetFile?(Object(n["I"])(),Object(n["m"])("div",{key:0,onDragleave:t[2]||(t[2]=e=>a.setOver(!1)),onDragover:t[3]||(t[3]=Object(n["fb"])(()=>{},["prevent"])),onDrop:t[4]||(t[4]=Object(n["fb"])((...e)=>a.onDrop&&a.onDrop(...e),["prevent"])),class:"drag-and-drop card-body"},S,32)):Object(n["l"])("",!0),Object(n["n"])("div",{class:Object(n["y"])(["load-container",a.targetFile&&"target"]),onDragover:[t[11]||(t[11]=Object(n["fb"])(()=>{},["prevent"])),t[12]||(t[12]=e=>a.setOver(!0))]},[a.isover||a.targetFile?Object(n["l"])("",!0):(Object(n["I"])(),Object(n["m"])("img",{key:0,src:a.uploadImg,alt:"load"},null,8,B)),Object(n["eb"])(Object(n["n"])("canvas",{width:"1920",height:"1080",ref:"canvas",onMousedown:t[5]||(t[5]=(...e)=>a.mousedown&&a.mousedown(...e)),onMousemove:t[6]||(t[6]=(...e)=>a.mousemove&&a.mousemove(...e)),onMouseup:t[7]||(t[7]=(...e)=>a.mouseup&&a.mouseup(...e)),onDragover:t[8]||(t[8]=Object(n["fb"])(()=>{},["prevent"])),onDrop:t[9]||(t[9]=Object(n["fb"])((...e)=>a.onDrop&&a.onDrop(...e),["prevent"])),style:Object(n["z"])("cursor: "+(a.ishandleBtn?"pointer":a.isgrabUpdatePoint?a.isgrabUpdatePoint:"auto")),"on:contextMenu":t[10]||(t[10]=()=>e.console.log("test"))},null,36),[[n["ab"],a.targetFile]])],34),Object(n["n"])("div",x,[Object(n["n"])("p",null,"X: "+Object(n["U"])(a.userPointer.x),1),Object(n["n"])("p",null,"Y: "+Object(n["U"])(a.userPointer.y),1)])])}var C=l("f325"),I=l.n(C),k=l("a1e9"),w=l("5c40"),E=l("82fc"),X=l.n(E),Y=l("2ef0"),J=l.n(Y),L={props:{myList:{type:Array},box:{type:Object},canvasSize:{type:Object}},emits:["addRect","clearRect","removeRect","updateRect","selectBox","setCanvasSize"],setup(e,{emit:t}){let l=Object(w["j"])(()=>e.myList);const n=Object(u["b"])(),a=Object(w["j"])(()=>n.state.colorList),c=Object(w["j"])(()=>e.box),o=Object(k["n"])(!1),i=Object(k["n"])(null),r=Object(k["n"])(null),v=Object(k["n"])(""),s=Object(k["n"])(!1),d=e=>{s.value=e},b=e=>{const t=["KB","MB","GB","TB"];for(let l=0;l<t.length;l++)if(e=Math.floor(e/1024),e<1024)return e.toFixed(1)+t[l]},h=Object(k["n"])(!1),O=(Object(k["n"])(!1),Object(k["n"])(null)),j=e=>{o.value=e};function A(e){N();const t=e.dataTransfer.files;r.value=t[0]}let f=0;const p=Object(k["n"])(0);function g(){if(!v.value)return;const e=i.value.getContext("2d");e.clearRect(0,0,i.value.width,i.value.height);const n=i.value.width/v.value.width,a=i.value.height/v.value.height;p.value=n<a?n:a,t("setCanvasSize",{width:v.value.width*p.value,height:v.value.height*p.value,canvasWidth:i.value.width,canvasHeight:i.value.height}),e.drawImage(v.value,0,0,v.value.width*p.value,v.value.height*p.value);for(let t=0;t<l.value.length;t++){const{color:n,S_X:a,S_Y:u,E_X:c,E_Y:o,id:i}=l.value[t];K.value!==i&&(e.strokeStyle=n,e.strokeRect(a,u,c-a,o-u))}if(!J.a.isEmpty(c.value)&&null===K.value){const{color:t,S_X:l,S_Y:n,E_X:a,E_Y:u,id:o}=c.value;e.strokeStyle=t,e.strokeRect(l,n,a-l,u-n)}}function m(){const e=URL.createObjectURL(r.value);v.value=new Image,v.value.src=e,v.value.onload=()=>{g()}}Object(w["ib"])(r,()=>{m()});const y=Object(k["n"])(0),_=Object(k["n"])(0),S=Object(k["n"])(0),B=Object(k["n"])(0);function x(e){const t=i.value.getBoundingClientRect(),l=0,n=(e-t.left-l)*(i.value.width/(t.width-2*l));return n<0?0:n}function R(e){const t=i.value.getBoundingClientRect(),l=0,n=(e-t.top-l)*(i.value.height/(t.height-2*l));return n<0?0:n}function C(e){S.value=x(e.clientX),B.value=R(e.clientY);const t=i.value.getContext("2d");t.lineWidth=10,g(),V.value?t.strokeStyle=V.value:t.strokeStyle=a.value[f],t.strokeRect(y.value,_.value,S.value-y.value,B.value-_.value)}function E(e,t){return e>t?[e,t]:[t,e]}function Y(e,n){for(let a=0;a<l.value.length;a++){const u=l.value[a];let{color:c,S_X:o,S_Y:i,E_X:r,E_Y:v,id:s}=u,[d,b]=E(o,r);if(o=b,r=d,[d,b]=E(i,v),i=b,v=d,e>=o&&e<=r&&n>=i&&n<=v)return t("selectBox",s),s}return null}function L(e){const t=x(e.clientX),n=R(e.clientY),a=J.a.find(l.value,{id:O.value}),u=J.a.cloneDeep(a),c=u.E_X-u.S_X,o=u.E_Y-u.S_Y;u.S_X+=z(t-y.value),u.S_Y+=z(n-_.value),u.E_X+=z(t-y.value),u.E_Y+=z(n-_.value);const{S_X:r,S_Y:v,E_X:s,E_Y:d}=u;let b=!1;r<0&&(a.S_X=0,a.E_X=c,b=!0),v<0&&(a.S_Y=0,a.E_Y=o,b=!0),s>i.value.width&&(a.E_X=i.value.width,a.S_X=a.E_X-c,b=!0),d>i.value.height&&(a.E_Y=i.value.height,a.S_Y=a.E_Y-o,b=!0),b||(a.S_X=r,a.S_Y=v,a.E_X=c+r,a.E_Y=o+v),y.value=t,_.value=n,g()}function F(e){y.value=x(e.clientX),_.value=R(e.clientY);const t=y.value,l=_.value,n=Y(t,l);console.log(n),null!==n&&(O.value=n)}Object(w["ib"])(s,()=>{s.value&&(Z.value=`url(${X.a}), auto`)});const U=Object(k["n"])({x:0,y:0});function D(e){if(U.value.x=x(e.clientX),U.value.y=R(e.clientY),s.value)null!==O.value&&L(e);else{if(H(e),V.value)return void C(e);if(!h.value)return;C(e)}}function M(e){if(s.value)F(e);else{if(Q(e))return;y.value=x(e.clientX),_.value=R(e.clientY);y.value,_.value;h.value=!0}}function z(e,t){return e}function P(e){if(s.value)O.value=null,g();else{if(h.value=!1,[y.value,_.value,S.value,B.value].includes(-1))return;const e={color:V.value?V.value:a.value[f],S_X:z(y.value),S_Y:z(_.value),E_X:z(S.value),E_Y:z(B.value),id:null===K.value?f:K.value};if(e.S_X>e.E_X){const t=e.E_X;e.E_X=e.S_X,e.S_X=t}if(e.S_Y>e.E_Y){const t=e.E_Y;e.E_Y=e.S_Y,e.S_Y=t}V.value?(t("updateRect",K.value,e),V.value=!1,Z.value=`url(${X.a}), auto`,K.value=null):(t("addRect",e),f+=1),y.value=-1,_.value=-1,S.value=-1,B.value=-1}}function N(){t("clearRect")}function T(e,t,l,n){return l-10<=e&&e<=l+10&&n-10<=t&&t<=n+10}Object(w["ib"])(l,()=>{g()}),window.addEventListener("mouseup",()=>{h.value&&!s.value&&P()});const K=Object(k["n"])(null),Z=Object(k["n"])(`url(${X.a}), auto`),V=Object(k["n"])(!1);function H(e){const t=x(e.clientX),n=R(e.clientY);for(let a=0;a<l.value.length;a++){const e=l.value[a];let{color:u,S_X:c,S_Y:o,E_X:i,E_Y:r,id:v}=e,[s,d]=E(c,i);c=d,i=s,[s,d]=E(o,r),o=d,r=s;const b=T(t,n,c,o);if(b)return Z.value="pointer",!0;const h=T(t,n,i,o);if(h)return Z.value="pointer",!0;const O=T(t,n,c,r);if(O)return Z.value="pointer",!0;const j=T(t,n,i,r);if(j)return Z.value="pointer",!0}return Z.value=`url(${X.a}), auto`,!1}function Q(e){const t=x(e.clientX),n=R(e.clientY);for(let a=0;a<l.value.length;a++){const e=l.value[a],{color:u,S_X:c,S_Y:o,E_X:i,E_Y:r,id:v}=e,s=T(t,n,c,o);if(s)return y.value=i,_.value=r,K.value=v,V.value=u,!0;const d=T(t,n,i,o);if(d)return y.value=c,_.value=r,K.value=v,V.value=u,!0;const b=T(t,n,c,r);if(b)return y.value=i,_.value=o,K.value=v,Z.value="pointer",V.value=u,!0;const h=T(t,n,i,r);if(h)return y.value=c,_.value=o,K.value=v,V.value=u,!0}return Z.value=`url(${X.a}), auto`,K.value=null,!1}return Object(w["ib"])(c,()=>{if(J.a.isEmpty(c.value))return;const e=i.value.getContext("2d");if(null!==K.value)return;const{color:t,S_X:l,S_Y:n,E_X:a,E_Y:u,id:o}=c.value;e.strokeStyle=t,e.strokeRect(l,n,a-l,u-n)}),window.addEventListener("mouseup",()=>{(s.value||h.value)&&P()}),{uploadImg:I.a,isover:o,setOver:j,onDrop:A,canvas:i,targetFile:r,mousedown:M,mousemove:D,mouseup:P,clearRect:N,ishandleBtn:s,setIsHandleBtn:d,getByteSize:b,isgrabUpdatePoint:Z,userPointer:U}}};l("8df0");const F=i()(L,[["render",R],["__scopeId","data-v-3f7095ea"]]);var U=F;l("c5bf");const D=e=>(Object(n["L"])("data-v-41c0b566"),e=e(),Object(n["J"])(),e),M={class:"container"},z={class:"btn-container"},P={class:"table-container",ref:"tableRef"},N=D(()=>Object(n["n"])("th",null,"No.",-1)),T=D(()=>Object(n["n"])("th",null,"Start X",-1)),K=D(()=>Object(n["n"])("th",null,"Start Y",-1)),Z=D(()=>Object(n["n"])("th",null,"End X",-1)),V=D(()=>Object(n["n"])("th",null,"End Y",-1)),H=D(()=>Object(n["n"])("th",null,"Color",-1)),Q=D(()=>Object(n["n"])("th",null,"Action",-1)),W=["onClick"],q={key:0},G={key:1},$={key:2},ee={key:3},te={key:4},le={key:5},ne={key:6},ae={key:7},ue=["value","onInput"],ce=["onClick"],oe=["onClick"];function ie(e,t,l,a,u,c){const o=Object(n["R"])("a-button");return Object(n["I"])(),Object(n["m"])("div",M,[Object(n["n"])("div",z,[Object(n["p"])(o,{type:"primary",style:{"margin-right":"10px","font-weight":"bolder"},onClick:a.ALlHandleCopy},{default:Object(n["db"])(()=>[Object(n["o"])("All Cocy")]),_:1},8,["onClick"]),a.isPixel?(Object(n["I"])(),Object(n["k"])(o,{key:0,type:"primary",style:{"margin-right":"10px","font-weight":"bolder"},onClick:t[0]||(t[0]=e=>a.setIsPixel(!1))},{default:Object(n["db"])(()=>[Object(n["o"])("Pixel")]),_:1})):(Object(n["I"])(),Object(n["k"])(o,{key:1,type:"primary",style:{"font-weight":"bolder"},onClick:t[1]||(t[1]=e=>a.setIsPixel(!0))},{default:Object(n["db"])(()=>[Object(n["o"])(" Relative ")]),_:1}))]),Object(n["n"])("div",P,[Object(n["n"])("table",null,[N,T,K,Z,V,H,Q,(Object(n["I"])(!0),Object(n["m"])(n["b"],null,Object(n["P"])(a.rectList,(e,t)=>(Object(n["I"])(),Object(n["m"])("tr",{key:t,onClick:t=>a.selectBox(e.id)},[Object(n["n"])("td",null,Object(n["U"])(t+1)+".",1),a.isPixel?(Object(n["I"])(),Object(n["m"])("td",q,Object(n["U"])(e.S_X.toFixed(2)),1)):(Object(n["I"])(),Object(n["m"])("td",G,Object(n["U"])((e.S_X/a.canvasWidth).toFixed(5)),1)),a.isPixel?(Object(n["I"])(),Object(n["m"])("td",$,Object(n["U"])(e.S_Y.toFixed(2)),1)):(Object(n["I"])(),Object(n["m"])("td",ee,Object(n["U"])((e.S_Y/a.canvasHeight).toFixed(5)),1)),a.isPixel?(Object(n["I"])(),Object(n["m"])("td",te,Object(n["U"])(e.E_X.toFixed(2)),1)):(Object(n["I"])(),Object(n["m"])("td",le,Object(n["U"])((e.E_X/a.canvasWidth).toFixed(5)),1)),a.isPixel?(Object(n["I"])(),Object(n["m"])("td",ne,Object(n["U"])(e.E_Y.toFixed(2)),1)):(Object(n["I"])(),Object(n["m"])("td",ae,Object(n["U"])((e.E_Y/a.canvasHeight).toFixed(5)),1)),Object(n["n"])("td",null,[Object(n["n"])("input",{class:"card-color",type:"color",value:e.color,onInput:t=>a.changeColor(e.id,t)},null,40,ue)]),Object(n["n"])("td",null,[Object(n["n"])("i",{class:"fas fa-copy",onClick:t=>a.handleCopy(e)},null,8,ce),Object(n["n"])("i",{class:"fas fa-trash-alt",onClick:t=>a.removeRect(e)},null,8,oe)])],8,W))),128))])],512)])}var re={props:{myList:{type:Array},canvasSize:{type:Object}},emits:["removeRect","selectBox","changeColor"],setup(e,{emit:t}){const l=Object(w["j"])(()=>e.myList),n=Object(w["j"])(()=>e.canvasSize.canvasWidth),a=Object(w["j"])(()=>e.canvasSize.canvasHeight),u=Object(k["n"])(!0),c=e=>{u.value=e},o=Object(k["n"])(null);Object(w["ib"])(l,()=>{setTimeout(()=>{o.value.scrollTop=o.value.scrollHeight},0)});const i=e=>{t("removeRect",e)},r=e=>{t("selectBox",e)},v=(e,l)=>{t("changeColor",e,l.currentTarget.value)},s=e=>{const{S_X:t,S_Y:l,E_X:c,E_Y:o}=e,i=document.createElement("textarea");document.body.appendChild(i),u.value?i.value=`${t}, ${l}, ${c}, ${o}`:i.value=`${t/n.value}, ${l/a.value}, ${c/n.value}, ${o/a.value}`,i.select(),document.execCommand("copy"),document.body.removeChild(i)},d=()=>{const e=document.createElement("textarea");document.body.appendChild(e),e.value="";for(let t=0;t<l.value.length;t++){const c=l.value[t],{S_X:o,S_Y:i,E_X:r,E_Y:v}=c;u.value?e.value+=`${o}, ${i}, ${r}, ${v}`:e.value+=`${o/n.value}, ${i/a.value}, ${r/n.value}, ${v/a.value}`,t!==l.value.length-1&&(e.value+="\n")}e.select(),document.execCommand("copy"),document.body.removeChild(e)};return{isPixel:u,setIsPixel:c,rectList:l,tableRef:o,removeRect:i,selectBox:r,changeColor:v,handleCopy:s,canvasHeight:a,canvasWidth:n,ALlHandleCopy:d}}};l("076d");const ve=i()(re,[["render",ie],["__scopeId","data-v-41c0b566"]]);var se=ve,de={components:{ImageLoad:U,LabelTable:se},setup(){const e=Object(n["N"])([]),t=Object(n["N"])({}),l=Object(n["N"])({width:0,height:0}),a=e=>{l.value=e},u=l=>{e.value=[...e.value,l],t.value={}},c=()=>{t.value={},e.value=[]},o=l=>{J.a.isEmpty(t.value)||t.value.id===l.id&&(t.value={}),e.value=e.value.filter(e=>e.id!==l.id)},i=(l,n)=>{e.value=e.value.map(e=>e.id===l?n:e),J.a.isEmpty(t.value)||t.value.id===l&&(t.value=n)},r=l=>{t.value=J.a.find(e.value,{id:l})},v=(l,n)=>{e.value=e.value.map(e=>e.id===l?{...e,color:n}:e),J.a.isEmpty(t.value)||t.value.id===l&&(t.value.color=n)};return{rectList:e,addRect:u,clearRect:c,removeRect:o,updateRect:i,selectBox:r,targetBox:t,changeColor:v,setCanvasSize:a,canvasSize:l}}};l("b49b");const be=i()(de,[["render",O],["__scopeId","data-v-7f29f701"]]);var he=be;const Oe=e=>(Object(n["L"])("data-v-03ecfdda"),e=e(),Object(n["J"])(),e),je={class:"btn-container"},Ae=Oe(()=>Object(n["n"])("i",{class:"far fa-hand-paper"},null,-1)),fe=Oe(()=>Object(n["n"])("i",{class:"fas fa-pencil-alt"},null,-1)),pe=Oe(()=>Object(n["n"])("h1",{className:"drag-text"},"Drag and Drop",-1)),ge=[pe],me=["src"];function ye(e,t,l,a,u,c){const o=Object(n["R"])("a-button");return Object(n["I"])(),Object(n["m"])("div",null,[Object(n["n"])("div",je,[Object(n["p"])(o,{class:"btn",type:"primary",disabled:!a.targetFile,onClick:a.clearRect,style:{"margin-right":"10px"}},{default:Object(n["db"])(()=>[Object(n["o"])("Clear")]),_:1},8,["disabled","onClick"]),a.ishandleBtn?(Object(n["I"])(),Object(n["k"])(o,{key:1,type:"primary",disabled:!a.targetFile,onClick:t[1]||(t[1]=e=>a.setIsHandleBtn(!1))},{default:Object(n["db"])(()=>[fe]),_:1},8,["disabled"])):(Object(n["I"])(),Object(n["k"])(o,{key:0,type:"primary",disabled:!a.targetFile,onClick:t[0]||(t[0]=e=>a.setIsHandleBtn(!0))},{default:Object(n["db"])(()=>[Ae]),_:1},8,["disabled"]))]),a.isover&&!a.targetFile?(Object(n["I"])(),Object(n["m"])("div",{key:0,onDragleave:t[2]||(t[2]=e=>a.setOver(!1)),onDragover:t[3]||(t[3]=Object(n["fb"])(()=>{},["prevent"])),onDrop:t[4]||(t[4]=Object(n["fb"])((...e)=>a.onDrop&&a.onDrop(...e),["prevent"])),class:"drag-and-drop card-body"},ge,32)):Object(n["l"])("",!0),Object(n["n"])("div",{class:Object(n["y"])(["load-container",a.targetFile&&"target"]),onDragover:[t[11]||(t[11]=Object(n["fb"])(()=>{},["prevent"])),t[12]||(t[12]=e=>a.setOver(!0))]},[a.isover||a.targetFile?Object(n["l"])("",!0):(Object(n["I"])(),Object(n["m"])("img",{key:0,src:a.uploadImg,alt:"load"},null,8,me)),Object(n["eb"])(Object(n["n"])("canvas",{width:"1920",height:"1080",ref:"canvas",onMousedown:t[5]||(t[5]=(...e)=>a.mousedown&&a.mousedown(...e)),onMousemove:t[6]||(t[6]=(...e)=>a.mousemove&&a.mousemove(...e)),onMouseup:t[7]||(t[7]=(...e)=>a.mouseup&&a.mouseup(...e)),onDragover:t[8]||(t[8]=Object(n["fb"])(()=>{},["prevent"])),onDrop:t[9]||(t[9]=Object(n["fb"])((...e)=>a.onDrop&&a.onDrop(...e),["prevent"])),style:Object(n["z"])("cursor: "+a.isgrabUpdatePoint),"on:contextMenu":t[10]||(t[10]=()=>e.console.log("test"))},null,36),[[n["ab"],a.targetFile]])],34)])}var _e={props:{myList:{type:Array},box:{type:Object}},emits:["addRect","clearRect","removeRect","updateRect","selectBox"],setup(e,{emit:t}){let l=Object(w["j"])(()=>e.myList);const n=Object(u["b"])(),a=Object(w["j"])(()=>n.state.colorList),c=Object(w["j"])(()=>e.box),o=Object(k["n"])(!1),i=Object(k["n"])(null),r=Object(k["n"])(null),v=Object(k["n"])(""),s=Object(k["n"])(!1),d=e=>{s.value=e},b=Object(k["n"])(!1),h=(Object(k["n"])(!1),Object(k["n"])(null)),O=e=>{o.value=e};function j(e){D();const t=e.dataTransfer.files;r.value=t[0]}let A=0;function f(){if(!v.value)return;const e=i.value.getContext("2d");e.clearRect(0,0,i.value.width,i.value.height);let t=i.value.width/v.value.width,n=i.value.height/v.value.height;const a=t>n?n:t;e.drawImage(v.value,0,0,v.value.width*a,v.value.height*a);for(let u=0;u<l.value.length;u++){const{color:t,S_X:n,S_Y:a,E_X:c,E_Y:o,id:r}=l.value[u];z.value!==r&&(e.strokeStyle=t,e.strokeRect(n*i.value.width,a*i.value.height,(c-n)*i.value.width,(o-a)*i.value.height))}if(!J.a.isEmpty(c.value)&&null===z.value){const{color:t,S_X:l,S_Y:n,E_X:a,E_Y:u,id:o}=c.value;e.strokeStyle=t,e.strokeRect(l*i.value.width,n*i.value.height,(a-l)*i.value.width,(u-n)*i.value.height)}}function p(){const e=URL.createObjectURL(r.value);v.value=new Image,v.value.src=e,v.value.onload=()=>{f()}}Object(w["ib"])(r,()=>{p()});const g=Object(k["n"])(0),m=Object(k["n"])(0),y=Object(k["n"])(0),_=Object(k["n"])(0);function S(e){const t=i.value.getBoundingClientRect(),l=0;return(e-t.left-l)*(i.value.width/(t.width-2*l))}function B(e){const t=i.value.getBoundingClientRect(),l=0;return(e-t.top-l)*(i.value.height/(t.height-2*l))}function x(e){y.value=S(e.clientX),_.value=B(e.clientY);const t=i.value.getContext("2d");t.lineWidth=10,f(),N.value?t.strokeStyle=N.value:t.strokeStyle=a.value[A],t.strokeRect(g.value,m.value,y.value-g.value,_.value-m.value)}function R(e,t){return e>t?[e,t]:[t,e]}function C(e,n){for(let a=0;a<l.value.length;a++){const u=l.value[a];let{color:c,S_X:o,S_Y:i,E_X:r,E_Y:v,id:s}=u,[d,b]=R(o,r);if(o=b,r=d,[d,b]=R(i,v),i=b,v=d,e>=o&&e<=r&&n>=i&&n<=v)return t("selectBox",s),s}return null}function E(e){const t=S(e.clientX),n=B(e.clientY),a=J.a.find(l.value,{id:h.value});a.S_X+=F(t-g.value,i.value.width),a.S_Y+=F(n-m.value,i.value.height),a.E_X+=F(t-g.value,i.value.width),a.E_Y+=F(n-m.value,i.value.height),a.S_X=Number(a.S_X.toFixed(5)),a.S_Y=Number(a.S_Y.toFixed(5)),a.E_X=Number(a.E_X.toFixed(5)),a.E_Y=Number(a.E_Y.toFixed(5)),g.value=t,m.value=n,f()}function X(e){g.value=S(e.clientX),m.value=B(e.clientY);const t=g.value/i.value.width,l=m.value/i.value.height,n=C(t,l);console.log(n),null!==n&&(h.value=n)}function Y(e){if(s.value)null!==h.value&&E(e);else{if(T(e),N.value)return void x(e);if(!b.value)return;x(e)}}function L(e){if(s.value)X(e);else{if(K(e))return;g.value=S(e.clientX),m.value=B(e.clientY);g.value,i.value.width,m.value,i.value.height;b.value=!0}}function F(e,t){return Number((e/t).toFixed(5))}function U(e){if(s.value)h.value=null,f();else{if(b.value=!1,[g.value,m.value,y.value,_.value].includes(-1))return;const e={color:N.value?N.value:a.value[A],S_X:F(g.value,i.value.width),S_Y:F(m.value,i.value.height),E_X:F(y.value,i.value.width),E_Y:F(_.value,i.value.height),id:null===z.value?A:z.value};N.value?(t("updateRect",z.value,e),N.value=!1,P.value=!1,z.value=null):(t("addRect",e),A+=1),g.value=-1,m.value=-1,y.value=-1,_.value=-1}}function D(){t("clearRect")}function M(e,t,l,n){return l-5/i.value.width<=e&&e<=l+5/i.value.height&&n-5/i.value.width<=t&&t<=n+5/i.value.height}Object(w["ib"])(s,()=>{s.value&&(P.value=!1)}),Object(w["ib"])(l,()=>{f()}),window.addEventListener("mouseup",()=>{b.value&&!s.value&&U()});const z=Object(k["n"])(null),P=Object(k["n"])(!1),N=Object(k["n"])(!1);function T(e){const t=S(e.clientX)/i.value.width,n=B(e.clientY)/i.value.height;for(let a=0;a<l.value.length;a++){const e=l.value[a];let{color:u,S_X:c,S_Y:o,E_X:i,E_Y:r,id:v}=e,[s,d]=R(c,i);c=d,i=s,[s,d]=R(o,r),o=d,r=s;const b=M(t,n,c,o);if(b)return P.value="pointer",!0;const h=M(t,n,i,o);if(h)return P.value="pointer",!0;const O=M(t,n,c,r);if(O)return P.value="pointer",!0;const j=M(t,n,i,r);if(j)return P.value="pointer",!0}return P.value=!1,!1}function K(e){const t=S(e.clientX)/i.value.width,n=B(e.clientY)/i.value.height;for(let a=0;a<l.value.length;a++){const e=l.value[a],{color:u,S_X:c,S_Y:o,E_X:r,E_Y:v,id:s}=e,d=M(t,n,c,o);if(d)return g.value=r*i.value.width,m.value=v*i.value.height,z.value=s,N.value=u,!0;const b=M(t,n,r,o);if(b)return g.value=c*i.value.width,m.value=v*i.value.height,z.value=s,N.value=u,!0;const h=M(t,n,c,v);if(h)return g.value=r*i.value.width,m.value=o*i.value.height,z.value=s,P.value="pointer",N.value=u,!0;const O=M(t,n,r,v);if(O)return g.value=c*i.value.width,m.value=o*i.value.height,z.value=s,N.value=u,!0}return P.value=!1,z.value=null,!1}return Object(w["ib"])(c,()=>{if(J.a.isEmpty(c.value))return;const e=i.value.getContext("2d");if(null!==z.value)return;const{color:t,S_X:l,S_Y:n,E_X:a,E_Y:u,id:o}=c.value;e.strokeStyle=t,e.strokeRect(l*i.value.width,n*i.value.height,(a-l)*i.value.width,(u-n)*i.value.height)}),{uploadImg:I.a,isover:o,setOver:O,onDrop:j,canvas:i,targetFile:r,mousedown:L,mousemove:Y,mouseup:U,clearRect:D,ishandleBtn:s,setIsHandleBtn:d,isgrabUpdatePoint:P}}};l("65ff");const Se=i()(_e,[["render",ye],["__scopeId","data-v-03ecfdda"]]);var Be=Se;const xe=[{path:"/",name:"Main",component:he},{path:"/test",name:"Test",component:Be}],Re=Object(s["a"])({history:Object(s["b"])("/"),routes:xe});var Ce=Re,Ie=Object(u["a"])({state:{colorList:[]},mutations:{SET_COLORLIST:(e,t)=>{e.colorList=t}},actions:{},modules:{}}),ke=l("f23d");l("202f");Object(n["j"])(v).use(ke["a"]).use(Ie).use(Ce).mount("#app")},"65ff":function(e,t,l){"use strict";l("dc78")},"82fc":function(e,t){e.exports="data:image/png;base64,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"},"8df0":function(e,t,l){"use strict";l("ffae")},b2d9:function(e,t,l){},b49b:function(e,t,l){"use strict";l("c4c8")},c4c8:function(e,t,l){},c5bf:function(e,t,l){"use strict";l("b2d9")},dc78:function(e,t,l){},ea98:function(e,t,l){},f325:function(e,t,l){e.exports=l.p+"img/upload.5fe84811.png"},ffae:function(e,t,l){}});
//# sourceMappingURL=app.ff0cc4d2.js.map